{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CircuitSimulationScanConfig Meta-Schema",
  "description": "Validates the structure of the CircuitSimulationScanConfig schema definition.",
  "type": "object",
  "required": [
    "title",
    "description",
    "group_order",
    "additionalProperties",
    "type",
    "properties",
    "required"
  ],
  "properties": {
    "title": {
      "type": "string",
      "description": "The title of the form."
    },
    "description": {
      "type": "string",
      "description": "The description of the form."
    },
    "group_order": {
      "type": "array",
      "description": "Defines the order of UI groups.",
      "items": {
        "type": "string"
      }
    },

    "additionalProperties": {
      "const": false,
      "description": "Must be false."
    },

    "type": { "const": "object" },
    "required": {
      "type": "array",
      "description": "List of required properties.",
      "items": {
        "type": "string"
      },
      "uniqueItems": true
    },

    "properties": {
      "type": "object",
      "additionalProperties": {
        "oneOf": [
          {
            "title": "root_block",
            "description": "Represents the schema for a root_block",
            "additionalProperties": false,
            "type": "object",
            "required": [
              "$ref",
              "title",
              "description",
              "group",
              "group_order",
              "ui_element"
            ],
            "properties": {
              "$ref": {
                "type": "string",
                "pattern": "^#/"
              },
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "group": {
                "type": "string"
              },
              "group_order": {
                "type": "integer"
              },
              "ui_element": {
                "const": "root_block"
              }
            }
          },
          {
            "title": "block_dictionary",
            "description": "Represents the schema for a block_dictionary",
            "type": "object",
            "additionalProperties": false,
            "required": [
              "type",
              "additionalProperties",
              "title",
              "description",
              "group",
              "group_order",
              "singular_name",
              "ui_element"
            ],
            "properties": {
              "type": {
                "const": "object"
              },
              "title": {
                "type": "string"
              },
              "ui_element": {
                "const": "block_dictionary"
              },
              "description": {
                "type": "string"
              },
              "group": {
                "type": "string"
              },
              "group_order": {
                "type": "integer"
              },
              "singular_name": {
                "type": "string"
              },
              "additionalProperties": {
                "type": "object",
                "required": ["oneOf"],
                "properties": {
                  "oneOf": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "object",
                      "required": ["$ref"],
                      "properties": {
                        "$ref": {
                          "type": "string",
                          "pattern": "^#/"
                        }
                      }
                    }
                  },
                  "discriminator": {
                    "type": "object"
                  }
                }
              }
            }
          }
        ]
      }
    }
  },

  "additionalProperties": false
}
